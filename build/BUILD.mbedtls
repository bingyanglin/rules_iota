licenses(["notice"])  # Apache 2.0

config_setting(
    name = "win",
    values = {"cpu": "x64_windows"},
)

cc_library(
    name = "mbedtls",
    srcs = glob(["library/*.c"]),
    hdrs = glob(["include/mbedtls/*.h"]),
    linkopts = select({
        ":win": ["-lwsock32", "-lWs2_32",],
        "//conditions:default":[],
    }),
    include_prefix = "mbedtls",
    strip_include_prefix = "include/mbedtls",
    visibility = ["//visibility:public"],
)
